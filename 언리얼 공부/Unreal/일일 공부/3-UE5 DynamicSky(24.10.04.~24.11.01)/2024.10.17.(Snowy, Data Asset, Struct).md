#### Unreal Engine 5 : 강의 하나로 DynamicSky 시스템 완벽 마스터하기!

##### 72강 : 눈 오는 날씨를 위한 조명
- 눈 오는 날씨를 위해 조명 조정
	- DirectionLight
		- Intensity : 8.f
		- LightColor 어둡게
		- SourceAngle : 0.f
		- Temperature : 8500
	- SkyLight
		- IntensityScale : 1.5f
	- SkyAtmosphere
		- MultiScattering : 0.8
		- RayleighScattering : Darker
		- MieScatteringScale : 1.5f
		- MieAbsorbtionScale : 0.6f
		- MieAnisotropy : 0.f
		- AerialPerspective : 1.f
	- HeightFor
		- Volumetric Fog 활성화
		- EmissiveColor : Darker
		- ExtinctionScale : 0.8f
##### 73강 : 데이터 애셋
- Data Asset : 변수 값을 애셋으로 저장
- 필요한 것 :
	- BP Parent Class : 변수 정의
	- Parent Class로부터 상속된 Data Asset : 변수에 값 정의
	![[Pasted image 20241018124829.png]]
	
##### 74강 : 블루프린트 구조
- 현재 변경해야하는 변수가 너무 많음 : 블루프린트 구조체를 사용하여 쉽게 엑세스할 수 있도록 저장
- 구조체 생성 후 변수 추가 -> 기본값 설정
![[Pasted image 20241018131352.png]]
![[Pasted image 20241018131401.png]]
- Parent Class에 변수 추가(변수 타입은 만든 구조체로 생성)
![[Pasted image 20241018131550.png]]
- Data Asset에서 추가된 모습 확인
![[Pasted image 20241018131624.png]]

##### 75강 : 날씨 전환
- 데이터 애셋의 또 다른 장점은 사용자 지정 썸네일 가능(우클릭->Asset Actions -> Capture Thumbnail)
- DA_Snowy 생성
![[Pasted image 20241018135536.png]]
- BP_DynamicSky에 날씨 설정을 위한 함수 2개 추가
	- HandleWeatherSettings : Contstruction 함수 연결 함수
	- SetWeatherLightingProperties : DA를 통해 조명 변수 초기화
![[Pasted image 20241018135635.png]]
- Sunny/Snowy간 전환을 위해 CurrentWeatherPreset 변수 추가(Type명은 BP WeatherDataAssetBase - Object Reference)
![[Pasted image 20241018135830.png]]
- Data Asset을 이용하여 SetWeatherLightingPropertie 함수 구현
![[Pasted image 20241018135938.png]]
![[Pasted image 20241018135926.png]]
![[Pasted image 20241018135950.png]]
- 눈 오는 날씨일 때는 밤으로 변경되지 않으려 함(TimeOfDay 고정) : 이를 위해서는 Weather마다 다른 초기화가 필요하므로 Enum을 생성
![[Pasted image 20241018140057.png]]
![[Pasted image 20241018140104.png]]
- 이를 통해 HandleWeatherSettings 함수 구현
![[Pasted image 20241018140134.png]]
- Contruction 연결
![[Pasted image 20241018140147.png]]
- 다만 Snowy일때 시간은 조정이 안되긴하나, 변경 시 Snowy 상태가 풀리는 문제 -> 어디선가 조명값에 변화를 주고 있다. -> Handle Night Setting에서 발견
- 기존에 조명값을 변경하던 부분을 Handle Weather Settings로 변경
![[Pasted image 20241018140253.png]]

