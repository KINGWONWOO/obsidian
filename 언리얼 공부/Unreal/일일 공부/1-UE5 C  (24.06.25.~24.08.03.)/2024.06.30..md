#### Unreal Engine 5 C++ 개발자  
##### 78강
- Inheritance : 상위 클래스에 중복 로직을 구현해두고 이를 물려받아 코드를 재사용하는 방법(Is-a)
![[Pasted image 20240630143937.png]]
- Composition : 다른객체의 인스턴스를 자신의 인스턴스 변수로 포함해서 메서드를 호출(has-a)
![[Pasted image 20240630144433.png]] 

##### 79강
- Component 생성법
![[Pasted image 20240630145237.png]]
##### 81강
- 다음과 같이 Owner의 함수 호출 가능
![[Pasted image 20240630151037.png]]

##### 82강
![[Pasted image 20240630151525.png]]

##### 83강
- Bool에 따라 벽을 움직이는 코드 구현(VInterpConstantTo 사용이 핵심)
- Actor가 움직이지 않을 시 Mobility가 Static이 아닌가 확인
![[Pasted image 20240630153909.png]]

##### 84강
- 씬 컴포넌트 : 다른 Scene에 Attatch할 수 있어서 Transform값을 동기화할 수 있음.
- 카메라를 따라가기 위해서는 Character의 카메라에 Attatch

##### 85강
- 물체 인식(트레이스) 대표적인 방식 2가지
- Line Trace
![[Pasted image 20240630155653.png]]
- Shape Trace
![[Pasted image 20240630155706.png]]
- Trace Channel : 특정 물체만 잡고 싶거나 복잡한 Trace 로직 구현시
- Block, Ingnore은 해당 트레이스에서 막을거냐(인식), 무시할꺼냐(통과)를 물음
- 생성한 Channel이 안나올시 프로젝트 재시작

##### 86강
- UWorld : 최상위 Object 이를 통해 Trace함수 호출 가
![[Pasted image 20240630160816.png]]
```C++ 
//다음과 같은 방식으로 UWorld 사용 가능
#include "Engine/World.h"
UWorld* World = GetWorld();
UWorld-> ...
```

##### 87강
- Trace가 올바로 작동하는지 확인하기 위한 DrawDebugLine 사용
```C++ 
#include "DrawDebugHelpers.h"
FVector Start = GetComponentLocation();
FVector End = Start + GetForwardVector() * MaxGrabDistance;
DrawDebugLine(GetWorld(), Start, End, FColor::Red);
```

##### 88강
- Pointer와 Reference

|        |        포인터        |        참조        |
| :----: | :---------------: | :--------------: |
|   저장   |        주소         |        주소        |
| 주소 재할당 |        가능         |       불가능        |
|  Null  |       저장 가능       |      저장 불가능      |
|  값 접근  |     *ActorPtr     |     ActorRef     |
| 주소 접근  |     ActorPtr      |    &ActorRef     |
|  값 변경  | *ActorPtr = Actor | ActorRef = Actor |

##### 89강
- Reference의 가장 큰 사용점은 함수에서의 매개변수
- Reference 사용시 매개변수의 복사본을 만들지 않음.
- 하지만 원본 Update의 위험성이 있기 때문에 const로 제한
```C++ 
void PrintDamage(const float& Damage);
```
- Out Parameter : 의도적으로 함수 안에서 변수 값을 Update
- Out Parameter라는 증거
	- 초기화되지 않은 변수가 다음 줄에 바로 함수로 넘겨짐
	- 함수명이 'Out-'으로 시작
	- 함수의 Parameter가 const가 없는 Reference만 사용(아래 예시)
```C++ 
bool HasDamage(float& OutDamage)
{
	OutDamage = 5;
	return true;
}
```

##### 90강
- Sweep 사용
```C++ 
FCollisionShape Sphere = FCollisionShape::MakeSphere(GrabRadius);
FHitResult HitResult;

bool HasHit = GetWorld()->SweepSingleByChannel(
	HitResult, //Hit 결과
	Start, //시작
	End, //끝
	FQuat::Identity, //회전량(여기서는 0으로 설정)
	ECC_GameTraceChannel2, // Trace채널(config\DefaultEngine들어가서 Crtl + F찾기)
	Sphere // 모양
	);
	
if(HasHit){
	AActor* HitActor = HitResult.GetActor();
	UE_LOG(LogTemp, Display, TEXT("Hit : %s"), *HitActor->GetActorNameOrLabel());
	}
else{
	UE_LOG(LogTemp, Display, TEXT("Hit : no actor hit"));
}
```

##### 91강
- Enhanced Input 사용
- Input Action와 Input Mapping Context 생성
- Player Blueprint에 다음과 같은 노드 연결
![[Pasted image 20240630184213.png]]

##### 93강
- Trace Preset 수정 : Collision Preset 검색 후 Custom으로 바꾸고 확장
- C++ 함수 블루프린트로 불러오기
```C++
//.h구현
UFUNCTION(BlueprintCallable)
void Grab();

UFUNCTION(BlueprintCallable)
void Release();
```
![[Pasted image 20240630190624.png]]

##### 94강
- 상위 Actor에서 다른 Component 가져오는법(FindComponentByClass<>사용)
```C++
찾고자하는타입* FindComponent = GetOwner()->FindComponentByClass<찾고자하는타입>();
//포인트에 null값 저장 시 오류발생 예외처리 필수
if(FindComponent == nullptr){
    return
}
```

##### 95강
- 게임에서 물체를 잡을 경우 잡는 위치도 중요
- 이때 HitResult에서 Impact Point를 쓸 건지 Location을 쓸 건지 구분해야함.(보통 ImpactPoint가 맞음)
- 이를 위해 Debug Sphere를 그려서 판단
```C++
DrawDebugSphere(
	GetWorld(),   //UWorld Object 
	Location,     //구가 그려질 위치
	10,           //반지름
	10,           //구체에 들어갈 조각 개수
	FColor::Blue, //색깔
	false,        //지속(true시 안사라짐)
	5             //지속 시간
)
```

##### 96강
- 물건 잡기(PhysicsHandle의 GrabComponentAtLocationWithRotation)
```C++
//Grab함수 속 HasHIt인 경우
PhysicsHandle->GrabComponentAtLocationWithRotation(
	HitResult.GetComponent(),   //잡은 물체(UPrimitiveComponent)
	NAME_None,                  //Bone의 이름(특정한 Bone으로 잡을 시)
	HitResult.ImpactPoint,      //잡은 위치
	HitResult.GetComponent()->GetComponentRotation()  //잡은 물체의 Rotation 값
);
```



